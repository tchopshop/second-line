/*! skrollr 0.6.23 (2014-04-18) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */(function(e,t,n){"use strict";function r(n){if(i=t.documentElement,s=t.body,W(),ot=this,n=n||{},ct=n.constants||{},n.easing)for(var r in n.easing)$[r]=n.easing[r];yt=n.edgeStrategy||"set",ft={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},lt=n.forceHeight!==!1,lt&&(Ht=n.scale||1),ht=n.mobileDeceleration||T,dt=n.smoothScrolling!==!1,vt=n.smoothScrollingDuration||N,mt={targetTop:ot.getScrollTop()},zt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),zt?(at=t.getElementById("skrollr-body"),at&&st(),J(),At(i,[y,E],[b])):At(i,[y,w],[b]),ot.refresh(),Et(e,"resize orientationchange",function(){var e=i.clientWidth,t=i.clientHeight;(t!==qt||e!==It)&&(qt=t,It=e,Rt=!0)});var o=X();return function u(){G(),wt=o(u)}(),ot}var i,s,o={get:function(){return ot},init:function(e){return ot||new r(e)},VERSION:"0.6.22"},u=Object.prototype.hasOwnProperty,a=e.Math,f=e.getComputedStyle,l="touchstart",c="touchmove",h="touchcancel",p="touchend",d="skrollable",v=d+"-before",m=d+"-between",g=d+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",E=y+"-mobile",S="linear",x=1e3,T=.004,N=200,C="start",k="end",L="center",A="bottom",O="___skrollable_id",M=/^(?:input|textarea|button|select)$/i,_=/^\s+|\s+$/g,D=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,P=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,H=/^([a-z\-]+)\[(\w+)\]$/,B=/-([a-z0-9_])/g,j=function(e,t){return t.toUpperCase()},F=/[\-+]?[\d]*\.?[\d]+/g,I=/\{\?\}/g,q=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,R=/[a-z\-]+-gradient/g,U="",z="",W=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(f){var t=f(s,null);for(var r in t)if(U=r.match(e)||+r==r&&t[r].match(e))break;if(!U)return U=z="",n;U=U[0],"-"===U.slice(0,1)?(z=U,U={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[U]):z="-"+U.toLowerCase()+"-"}},X=function(){var t=e.requestAnimationFrame||e[U.toLowerCase()+"RequestAnimationFrame"],n=_t();return(zt||!t)&&(t=function(t){var r=_t()-n,i=a.max(0,1e3/60-r);return e.setTimeout(function(){n=_t(),t()},i)}),t},V=function(){var t=e.cancelAnimationFrame||e[U.toLowerCase()+"CancelAnimationFrame"];return(zt||!t)&&(t=function(t){return e.clearTimeout(t)}),t},$={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-a.cos(e*a.PI)/2+.5},sqrt:function(e){return a.sqrt(e)},outCubic:function(e){return a.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-a.abs(3*a.cos(1.028*e*t)/t)}};r.prototype.refresh=function(e){var r,i,s=!1;for(e===n?(s=!0,ut=[],Ut=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),r=0,i=e.length;i>r;r++){var o=e[r],u=o,a=[],f=dt,l=yt,c=!1;if(s&&delete o[O],o.attributes){for(var h=0,p=o.attributes.length;p>h;h++){var v=o.attributes[h];if("data-anchor-target"!==v.name)if("data-smooth-scrolling"!==v.name)if("data-edge-strategy"!==v.name)if("data-emit-events"!==v.name){var m=v.name.match(D);if(null!==m){var g={props:v.value,element:o,eventType:v.name.replace(B,j)};a.push(g);var y=m[1];y&&(g.constant=y.substr(1));var b=m[2];/p$/.test(b)?(g.isPercentage=!0,g.offset=(0|b.slice(0,-1))/100):g.offset=0|b;var w=m[3],E=m[4]||w;w&&w!==C&&w!==k?(g.mode="relative",g.anchors=[w,E]):(g.mode="absolute",w===k?g.isEnd=!0:g.isPercentage||(g.offset=g.offset*Ht))}}else c=!0;else l=v.value;else f="off"!==v.value;else if(u=t.querySelector(v.value),null===u)throw'Unable to find anchor target "'+v.value+'"'}if(a.length){var S,x,T;!s&&O in o?(T=o[O],S=ut[T].styleAttr,x=ut[T].classAttr):(T=o[O]=Ut++,S=o.style.cssText,x=Lt(o)),ut[T]={element:o,styleAttr:S,classAttr:x,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l,emitEvents:c,lastFrameIndex:-1},At(o,[d],[])}}}for(Nt(),r=0,i=e.length;i>r;r++){var N=ut[e[r][O]];N!==n&&(Y(N),et(N))}return ot},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,s=e.getBoundingClientRect(),o=s.top,u=s.bottom-s.top;return t===A?o-=r:t===L&&(o-=r/2),n===A?o+=u:n===L&&(o+=u/2),o+=ot.getScrollTop(),0|o+.5},r.prototype.animateTo=function(e,t){t=t||{};var r=_t(),i=ot.getScrollTop();return pt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||x,startTime:r,endTime:r+(t.duration||x),easing:$[t.easing||S],done:t.done},pt.topDiff||(pt.done&&pt.done.call(ot,!1),pt=n),ot},r.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(ot,!0),pt=n},r.prototype.isAnimatingTo=function(){return!!pt},r.prototype.isMobile=function(){return zt},r.prototype.setScrollTop=function(t,n){return gt=n===!0,zt?Wt=a.min(a.max(t,0),Pt):e.scrollTo(0,t),ot},r.prototype.getScrollTop=function(){return zt?Wt:e.pageYOffset||i.scrollTop||s.scrollTop||0},r.prototype.getMaxScrollTop=function(){return Pt},r.prototype.on=function(e,t){return ft[e]=t,ot},r.prototype.off=function(e){return delete ft[e],ot},r.prototype.destroy=function(){var e=V();e(wt),xt(),At(i,[b],[y,w,E]);for(var t=0,r=ut.length;r>t;t++)it(ut[t].element);i.style.overflow=s.style.overflow="auto",i.style.height=s.style.height="auto",at&&o.setStyle(at,"transform","none"),ot=n,at=n,ft=n,lt=n,Pt=0,Ht=1,ct=n,ht=n,Bt="down",jt=-1,It=0,qt=0,Rt=!1,pt=n,dt=n,vt=n,mt=n,gt=n,Ut=0,yt=n,zt=!1,Wt=0,bt=n};var J=function(){var r,o,u,f,d,v,m,g,y,b,w,E;Et(i,[l,c,h,p].join(" "),function(e){var i=e.changedTouches[0];for(f=e.target;3===f.nodeType;)f=f.parentNode;switch(d=i.clientY,v=i.clientX,b=e.timeStamp,M.test(f.tagName)||e.preventDefault(),e.type){case l:r&&r.blur(),ot.stopAnimateTo(),r=f,o=m=d,u=v,y=b;break;case c:M.test(f.tagName)&&t.activeElement!==f&&e.preventDefault(),g=d-m,E=b-w,ot.setScrollTop(Wt-g,!0),m=d,w=b;break;default:case h:case p:var s=o-d,S=u-v,x=S*S+s*s;if(49>x){if(!M.test(r.tagName)){r.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(T)}return}r=n;var N=g/E;N=a.max(a.min(N,3),-3);var C=a.abs(N/ht),k=N*C+.5*ht*C*C,L=ot.getScrollTop()-k,A=0;L>Pt?(A=(Pt-L)/k,L=Pt):0>L&&(A=-L/k,L=0),C*=1-A,ot.animateTo(0|L+.5,{easing:"outCubic",duration:C})}}),e.scrollTo(0,0),i.style.overflow=s.style.overflow="hidden"},K=function(){var e,t,n,r,s,o,u,f,l,c,h,p=i.clientHeight,d=Ct();for(f=0,l=ut.length;l>f;f++)for(e=ut[f],t=e.element,n=e.anchorTarget,r=e.keyFrames,s=0,o=r.length;o>s;s++)u=r[s],c=u.offset,h=d[u.constant]||0,u.frame=c,u.isPercentage&&(c*=p,u.frame=c),"relative"===u.mode&&(it(t),u.frame=ot.relativeToAbsolute(n,u.anchors[0],u.anchors[1])-c,it(t,!0)),u.frame+=h,lt&&!u.isEnd&&u.frame>Pt&&(Pt=u.frame);for(Pt=a.max(Pt,kt()),f=0,l=ut.length;l>f;f++){for(e=ut[f],r=e.keyFrames,s=0,o=r.length;o>s;s++)u=r[s],h=d[u.constant]||0,u.isEnd&&(u.frame=Pt-u.offset+h);e.keyFrames.sort(Dt)}},Q=function(e,t){for(var n=0,r=ut.length;r>n;n++){var i,s,a=ut[n],f=a.element,l=a.smoothScrolling?e:t,c=a.keyFrames,h=c.length,p=c[0],y=c[c.length-1],b=p.frame>l,w=l>y.frame,E=b?p:y,S=a.emitEvents,x=a.lastFrameIndex;if(b||w){if(b&&-1===a.edge||w&&1===a.edge)continue;switch(b?(At(f,[v],[g,m]),S&&x>-1&&(Tt(f,p.eventType,Bt),a.lastFrameIndex=-1)):(At(f,[g],[v,m]),S&&h>x&&(Tt(f,y.eventType,Bt),a.lastFrameIndex=h)),a.edge=b?-1:1,a.edgeStrategy){case"reset":it(f);continue;case"ease":l=E.frame;break;default:case"set":var T=E.props;for(i in T)u.call(T,i)&&(s=rt(T[i].value),o.setStyle(f,i,s));continue}}else 0!==a.edge&&(At(f,[d,m],[v,g]),a.edge=0);for(var N=0;h-1>N;N++)if(l>=c[N].frame&&c[N+1].frame>=l){var C=c[N],k=c[N+1];for(i in C.props)if(u.call(C.props,i)){var L=(l-C.frame)/(k.frame-C.frame);L=C.props[i].easing(L),s=nt(C.props[i].value,k.props[i].value,L),s=rt(s),o.setStyle(f,i,s)}S&&x!==N&&("down"===Bt?Tt(f,C.eventType,Bt):Tt(f,k.eventType,Bt),a.lastFrameIndex=N);break}}},G=function(){Rt&&(Rt=!1,Nt());var e,t,r=ot.getScrollTop(),i=_t();if(pt)i>=pt.endTime?(r=pt.targetTop,e=pt.done,pt=n):(t=pt.easing((i-pt.startTime)/pt.duration),r=0|pt.startTop+t*pt.topDiff),ot.setScrollTop(r,!0);else if(!gt){var s=mt.targetTop-r;s&&(mt={startTop:jt,topDiff:r-jt,targetTop:r,startTime:Ft,endTime:Ft+vt}),mt.endTime>=i&&(t=$.sqrt((i-mt.startTime)/vt),r=0|mt.startTop+t*mt.topDiff)}if(zt&&at&&o.setStyle(at,"transform","translate(0, "+ -Wt+"px) "+bt),gt||jt!==r){Bt=r>jt?"down":jt>r?"up":Bt,gt=!1;var u={curTop:r,lastTop:jt,maxTop:Pt,direction:Bt},a=ft.beforerender&&ft.beforerender.call(ot,u);a!==!1&&(Q(r,ot.getScrollTop()),jt=r,ft.render&&ft.render.call(ot,u)),e&&e.call(ot,!1)}Ft=i},Y=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,s,o,u=e.keyFrames[t],a={};null!==(o=P.exec(u.props));)s=o[1],i=o[2],r=s.match(H),null!==r?(s=r[1],r=r[2]):r=S,i=i.indexOf("!")?Z(i):[i.slice(1)],a[s]={value:i,easing:$[r]};u.props=a}},Z=function(e){var t=[];return q.lastIndex=0,e=e.replace(q,function(e){return e.replace(F,function(e){return 100*(e/255)+"%"})}),z&&(R.lastIndex=0,e=e.replace(R,function(e){return z+e})),e=e.replace(F,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)tt(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],r)},tt=function(e,t){var n;for(n in t)u.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},nt=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];for(r=1;i>r;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},rt=function(e){var t=1;return I.lastIndex=0,e[0].replace(I,function(){return e[t++]})},it=function(e,t){e=[].concat(e);for(var n,r,i=0,s=e.length;s>i;i++)r=e[i],n=ut[r[O]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,At(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Lt(r),r.style.cssText=n.styleAttr,At(r,n.classAttr)))},st=function(){bt="translateZ(0)",o.setStyle(at,"transform",bt);var e=f(at),t=e.getPropertyValue("transform"),n=e.getPropertyValue(z+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(bt="")};o.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(B,j).replace("-",""),"zIndex"===t)r[t]=isNaN(n)?n:""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{U&&(r[U+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et=o.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),r.call(this,t)};n=n.split(" ");for(var s,o=0,u=n.length;u>o;o++)s=n[o],t.addEventListener?t.addEventListener(s,r,!1):t.attachEvent("on"+s,i),Xt.push({element:t,name:s,listener:r})},St=o.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,i=t.length;i>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},xt=function(){for(var e,t=0,n=Xt.length;n>t;t++)e=Xt[t],St(e.element,e.name,e.listener);Xt=[]},Tt=function(e,t,n){ft.keyframe&&ft.keyframe.call(ot,e,t,n)},Nt=function(){var e=ot.getScrollTop();Pt=0,lt&&!zt&&(s.style.height="auto"),K(),lt&&!zt&&(s.style.height=Pt+i.clientHeight+"px"),zt?ot.setScrollTop(a.min(ot.getScrollTop(),Pt)):ot.setScrollTop(e,!0),gt=!0},Ct=function(){var e,t,n=i.clientHeight,r={};for(e in ct)t=ct[e],"function"==typeof t?t=t.call(ot):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},kt=function(){var e=at&&at.offsetHeight||0,t=a.max(e,s.scrollHeight,s.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return t-i.clientHeight},Lt=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},At=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal"),i===n)return t[s]=r,n;for(var o=t[s],u=0,a=i.length;a>u;u++)o=Mt(o).replace(Mt(i[u])," ");o=Ot(o);for(var f=0,l=r.length;l>f;f++)-1===Mt(o).indexOf(Mt(r[f]))&&(o+=" "+r[f]);t[s]=Ot(o)},Ot=function(e){return e.replace(_,"")},Mt=function(e){return" "+e+" "},_t=Date.now||function(){return+(new Date)},Dt=function(e,t){return e.frame-t.frame},Pt=0,Ht=1,Bt="down",jt=-1,Ft=_t(),It=0,qt=0,Rt=!1,Ut=0,zt=!1,Wt=0,Xt=[];"function"==typeof define&&define.amd?define("skrollr",function(){return o}):e.skrollr=o})(window,document);